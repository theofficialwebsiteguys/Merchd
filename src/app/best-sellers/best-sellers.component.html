<div class="section-header">
  <h2 class="section-title">Best Sellers</h2>
  <p class="section-subtitle">Popular items getting ordered on the regular.</p>
</div>

<div class="product-grid">
  <!-- Loop through best sellers -->
  <div
    class="product-card"
    *ngFor="let product of bestSellers"
    (click)="viewProduct(product)"
  >
    <!-- Product Image -->
    <div class="image-wrapper">
      <img [src]="product.display_image" [alt]="product.name" />
      <button
        class="wishlist-button"
        aria-label="Add to Wishlist"
      >
        â™¥
      </button>
    </div>

    <!-- Product Info -->
    <div class="product-info">
      <h3 class="product-title">{{ product.name }}</h3>
      <p class="product-price">${{ product.price }}</p>
      <p class="product-size">{{ product.size }}</p>
    </div>

    <!-- Action Button -->
    <div class="product-button">
      <button
        *ngIf="product.quantity > 0; else outOfStock"
        class="add-to-cart"
        [disabled]="product.isAddingToCart"
        (click)="handleProductAction(product, $event)"
      >
        {{ product.isAddingToCart ? 'Adding...' : product.is_customizable ? 'Customize Product' : 'Add to Cart' }}
      </button>

      <!-- Out of Stock Template -->
      <ng-template #outOfStock>
        <button class="out-of-stock" disabled>Out of Stock</button>
      </ng-template>
    </div>
  </div>
</div>
